<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tigerobo.x.pai.dal.pay.mapper.PaymentApiDetailQueryMapper">


    <select id="sumCallNum" parameterType="map" resultType="java.lang.Integer">
        select sum(call_num) from payment_api_detail
        where
        user_id = #{userId}
        and model_id =#{modelId}
        and day &gt;= #{startDay}
        and day &lt; #{endDay}
        and consume_type = 0
        and is_deleted = 0
    </select>
    <select id="getCardConsumeWaitDealUserIdsByDay" parameterType="map" resultType="java.lang.Integer">
        select user_id from payment_api_detail
        where day = #{day}
        and consume_type =1
        and status = 1
        group by user_id
    </select>
</mapper>